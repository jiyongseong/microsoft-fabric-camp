## WHAT IS - 메달리온 아키텍처

메달리온 아키텍처는 **데이터 설계 패턴**으로 볼 수 있습니다. 이 패턴은 **모범 사례를 지원**하고, **일관성**과 **내구성**을 시스템에 도입하는 방법입니다.  
메달리온 아키텍처는 **브론즈(Bronze)**, **실버(Silver)**, **골드(Gold)**의 **3계층**으로 구성되며, 데이터는 브론즈에서 실버, 그리고 골드로 이동하면서 점점 더 정제되고 구조화되어 **유용한 데이터 제품**으로 완성됩니다.  
**데이터 제품(Data Product)**의 개념은 데이터를 완전한 지원과 유지보수가 가능한 **제품**으로 취급하는 것입니다.

### 🚥 브론즈 계층(Bronze Tier)
- **역할**: 운영 데이터를 **거의 가공하지 않은 상태**로 수집  
- **특징**:
  - 데이터는 **청소나 검증 없이** 그대로 저장
  - **역사적 보존**이 중요 → 모든 데이터를 아카이브하고 재처리 가능
- **처리 방식**:
  - **ELT**(Extract → Load → Transform) 방식 사용  
    → 변환 전에 적재하는 것이 아니라, 적재 후 변환
- **구조**:
  - **소스**와 **적재 시간** 기준으로 정리
  - 각 파일의 **버전 기록** 보존 → **감사 추적** 및 **재처리** 가능

### 🚥 실버 계층(Silver Tier)
- **역할**: 브론즈의 원시 데이터를 **정제·검증**하고 **표준화된 테이블 형식**으로 변환  
- **처리 내용**:
  - 다양한 포맷(JSON, XML, CSV, Excel 등)을 **Parquet** 또는 **Delta** 같은 **테이블 형식**으로 변환
  - **스키마 적용** → 컬럼 존재 여부, 데이터 규칙(예: Null 불가 컬럼) 검증
  - **추가 검증**: 예상 행 수, 값의 유효성 확인
  - **변환 작업**:
    - Pivot/Unpivot
    - 복잡한 JSON 평탄화
    - 코드 값 → 사람이 읽을 수 있는 값 변환
- **결과물**:
  - **특정 리포트 목적에 종속되지 않은(Unopinionated)**, **정제·검증된 데이터**
  - **도메인**과 **엔터티** 기준으로 정리
- **특징**:
  - **업서트(Upsert)** 처리 → 증분 데이터 반영
  - **고품질 데이터** → ML, 통계 모델, 시뮬레이션, 데이터 과학 실험에 활용 가능

### 🚥 골드 계층(Gold Tier)
- **역할**: 특정 **비즈니스 목적**에 맞는 최종 데이터 제공
- **주요 작업**:
  - **리포팅 최적화**:
    - Pivot/Unpivot
    - 집계(월별, 연도별)
    - **스타 스키마/스노우플레이크 스키마** 설계 (팩트·차원 테이블)
  - **다중 프로젝션**:
    - 동일 데이터셋에서 **다양한 리포트 요구사항**에 맞춘 뷰 생성
    - 예: PII 포함/제외 버전 → **세분화된 보안** 구현
  - **참조 데이터 생성**:
    - 예: 날짜 테이블(요일, 주차 등 추가 메타데이터 포함)
- **구조**:
  - **도메인**과 **사용 목적** 기준으로 정리
- **특징**:
  - 경우에 따라 골드 = 실버일 수도 있지만, 대부분 **리포팅 요구사항에 맞춘 추가 변환** 필요

### 📝 요약
- **브론즈**: 원본 데이터 보존, 감사 추적, 재처리 가능
- **실버**: 표준화·정제·검증 → 고품질 데이터
- **골드**: 리포팅·애널리틱스 최적화 → 비즈니스 친화적 모델 제공
- **데이터 품질은 실버 단계에서 이미 매우 높아야 함** → 그렇지 않으면 ML/분석 결과가 왜곡될 위험
